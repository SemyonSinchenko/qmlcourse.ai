---
jupytext:
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
---

(bra-ket)=
# Ско бки
# NB: Лекция в состоянии активного редактирования!
Дисклеймер: нам нужен инстументарий для работы с более абстрактными пространствами!

Символ Кронекера и остальные специальные тензора -- это удобные примитивы для низкоуровневой работы с матрицами и векторами.
Физики смогли придумать поверх примитивов линейной алгебры отличный синтаксический сахар, т.н. нотацию Дирака.

- Гильбертово пространство

Гильбертово пространство определяется:
1) скалярным произведением (u, v) (в простейшем частном случае - $(u, v) = u^{\dagger} v$)
2) зафиксированной нормой вида $||v|| = \sqrt{(v,v)}$
3) является полным с метрикой $d(u,v) = ||u-v|| = \sqrt{(u-v,u-v)}$

- Полное пространство

Полное метрическое пространство дает возможность не думать при нахождении предела некоторой последовательности о принадлежности этого предела данному пространству, то есть по своей сути разрешает предельный переход и позволяет доказать множество красивых теорем. Подробнее строгое определение можно посмотреть [тут](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%BB%D0%BD%D0%BE%D0%B5_%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5_%D0%BF%D1%80%D0%BE%D1%81%D1%82%D1%80%D0%B0%D0%BD%D1%81%D1%82%D0%B2%D0%BE)

- Нотация Дирака или Bra-Ket нотация

Напомним, что в гильбертовом пространстве у нас есть к пространству $H$ сопряженное пространство $H^{\dagger}$. 
Тогда можно рассмотреть обозначение Ket для элемента $v$ из $H$ как вектор столбец 
$$
| B \rangle = \begin{pmatrix} v_1 \\ v_2 \\ \vdots \\ v_N \end{pmatrix}
$$
и обозначение Bra для элемента $u$ из сопряженного пространства $H^*$ как сопряженную вектор строку 
$$
\langle u | = \begin{pmatrix} u_1^* & u_2^* & \cdots & u_N^* \end{pmatrix}
$$
тогда bra-ket u и v просто задает скалярное произведение между этими элементами: 
$$
\langle u | v \rangle \doteq u_1^* v_1 + u_2^* v_2 + \cdots + u_N^* v_N =
\begin{pmatrix} u_1^* & u_2^* & \cdots & u_N^* \end{pmatrix}
\begin{pmatrix} v_1 \\ v_2 \\ \vdots \\ v_N \end{pmatrix}
$$

Часто, например, требуется показать два граничных  состояния кубита $|0>$, $|1>$, тогда мы можем записать их просто как вектора столбцы: $|0> = \begin{pmatrix} 1 \\ 0 \end{pmatrix}$ и $|0> = \begin{pmatrix} 0 \\ 1 \end{pmatrix}$. В следующей лекции этот вопрос будет рассмотрен детальнее.

- Эрмитовый оператор

Оператор U называется [эрмитовым](https://ru.wikipedia.org/wiki/%D0%AD%D1%80%D0%BC%D0%B8%D1%82%D0%BE%D0%B2_%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80), если он удовлетворяет равенству $(Uv,u) = (v,Uu)$ для всех $u$, $v$ из $H$

- Унитарный оператор

Унитарный оператор $\hat{U}:H \rightarrow H$ на гильбертовом пространстве $H$ это линейный оператор, который удовлетворяет следующему равенству
$$
\hat{U}^{\dagger}\hat{U}=\hat{U}\hat{U}^{\dagger}=I
$$
напомним, что операция $\hat{U}^\dagger$ для матрицы является последовательным применением операции транспонирования и последующего сопряженая элементов этой матрицы (порядок этих операций, естественно не влияет на результат). В numpy - это метод H

```{code-cell} ipython3
U_hat = np.array([
    [1 + 0j, 0 + 0j],
    [0 + 0j, 1 + 0j]
    ])
U_hat_star = U_hat.H
U_hat_star_byhands = np.conjugate(np.transpose(U_hat))

print(np.allclose(U_hat_star, U_hat_star_byhands))
```
Также в python для многих операций есть соотвествующие методы вместо функций и их сокращения, например U.transpose() тоже самое, что U.T

Важное свойство, что любой эрмитов оператор U можно привести к унитарному оператору следующим образом: 

$$
\hat{U} = \exp(iU)
$$
где \Lambda - диагональная матрица из вещественных собственных векторов матрицы U, а деление поэлементное.

Докажем быстро этот факт для квадратных матриц:
Для такого типа матриц можно определить матричную экспоненту через Singular Value Decomposition
$\exp V = S \exp (\Lambda) D^\dagger$
Тогда $\hat{U}^{\dagger}\hat{U} = (S \exp (i*\Lambda) D^\dagger)^\dagger S \exp (i*\Lambda) D^\dagger = D \exp(-i*\Lambda) S^\dagger  S \exp (i*\Lambda)  D^\dagger =  D \exp(-i \Lambda  + i \Lambda) D^\dagger = D \exp(O) D^\dagger = D I D^\dagger = I $
- Пример: оператор проектор
TODO
- Пример: оператор дифференцирования
TODO
- outer-product
https://www.physics.unlv.edu/~bernard/phy721_99/tex_notes/node6.html

- 
https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB_%D0%9B%D0%B5%D0%B2%D0%B8-%D0%A7%D0%B8%D0%B2%D0%B8%D1%82%D1%8B
- illegal-products

## Что мы узнали

- произвол со скобками
- символ Кронекера
- Гильбертовы пространства
